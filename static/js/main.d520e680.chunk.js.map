{"version":3,"sources":["context.js","components/Title.js","components/Input.js","components/DropdownSubItem.js","constants.js","components/DropdownItem.js","customHooks.js","components/Dropdown.js","components/Form.js","components/List.js","components/LineChart.js","components/Modal.js","components/InfoTab.js","App.js","index.js"],"names":["ModalContext","createContext","AppContextProvider","props","useState","modalStore","modal","setModal","Provider","value","children","Title","text","title","Array","from","letterWord","hidden","opacity","show","div","span","variants","transition","delayChildren","staggerChildren","staggerDirection","initial","animate","map","letter","index","size","className","Input","handleChange","error","placeholder","type","onChange","style","DropdownSubItem","React","memo","option","handleClick","a","href","slug","onClick","e","preventDefault","opened","x","duration","closed","name","baseUrl","getCategoriesUrl","getSubcategoriesUrl","getItemsUrl","DropdownItem","isOpen","setIsOpen","subItems","setSubItems","Loading","setLoading","useEffect","source","CancelToken","fetchSubcategories","category","url","axios","get","cancelToken","token","response","data","console","log","length","cancel","i","rotateOpen","rotate","rotateClose","item","useOnClickOutside","ref","handler","listener","event","current","contains","target","document","addEventListener","removeEventListener","useValidateInput","input","patternId","patternUrl","validateId","test","validationResult","inputIsValid","validationMsg","itemId","match","urlPath","URL","pathname","validateInput","Dropdown","options","changeCategory","visible","setVisible","refDropdown","useRef","closeDropdownPopover","handleSelect","status","fetchCategories","promise","Form","useContext","setCategory","inputUrl","setInputUrl","setError","openTab","setOpenTab","history","useHistory","useQuery","staleTime","cachedTime","refetchOnWindowFocus","role","data-toggle","id","push","fetchItems","key","page","List","setPage","refRightButtonClicked","refLeftButtonClicked","useParams","usePaginatedQuery","resolvedData","latestData","hiddenFromLeft","hiddenFromRight","delay","removedToRight","removedToLeft","results","li","exitBeforeEnter","hadndleClick","exit","custom","whileHover","scale","button","old","Math","max","whileTap","next","LineChart","chartRef","prices","price","date","processItemPrices","config","labels","datasets","label","backgroundColor","borderColor","values","fill","legend","display","tooltips","mode","intersect","hover","scales","xAxes","ticks","fontColor","gridLines","borderDash","borderDashOffset","color","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","yAxes","drawBorder","Chart","fetchItem","Modal","refModal","alt","src","image_url","lastPrice","getLastItemPrice","InfoTab","icon","msg","App","basename","process","minHeight","exact","path","height","transform","preserveAspectRatio","xmlns","version","viewBox","y","points","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d520e680.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nexport const ModalContext = createContext();\r\n\r\nexport function AppContextProvider(props) {\r\n  const [modal, setModal] = useState(null);\r\n  const modalStore = {modal: modal, setModal: setModal}\r\n\r\n  return (\r\n    <ModalContext.Provider value={modalStore}>\r\n      {props.children}\r\n    </ModalContext.Provider>\r\n  )\r\n}\r\n\r\nAppContextProvider.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node\r\n  ]).isRequired\r\n}\r\n","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function Title({ text }) {\r\n  const title = Array.from(text);\r\n  const fullWord = {\r\n    hidden: { opacity: 0 },\r\n    show: {\r\n      opacity: 1,\r\n      transition: {\r\n        delayChildren: 0.7,\r\n        staggerChildren: 0.15,\r\n        staggerDirection: 1\r\n      }\r\n    }\r\n  };\r\n  const letterWord = {\r\n    hidden: { opacity: 0 },\r\n    show: { opacity: 1 }\r\n  };\r\n\r\n  return (\r\n    <motion.div>\r\n      <motion.span variants={fullWord} initial='hidden' animate='show'>\r\n      {title.map((letter, index) => (\r\n        <motion.span\r\n          key={index}\r\n          variants={letterWord}\r\n          size={50}\r\n          className=\"text-gray-100 font-title uppercase text-6xl sm:text-8xl\"\r\n        >\r\n          {letter}\r\n        </motion.span>\r\n      ))}\r\n      </motion.span>\r\n    </motion.div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport default function Input(props) {\r\n  const { value, handleChange, error } = props;\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        className=\"px-3 py-3 placeholder-gray-500 placeholder-opacity-50 text-gray-700 bg-white rounded tracking-wider text-md font-semibold w-full shadow-md focus:outline-none focus:shadow-outline\"\r\n        placeholder=\"https://ozon.ru/context/item/id/5151551/\"\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={handleChange}\r\n        style={{ transition: \"all .15s ease\" }}\r\n      />\r\n      {error && (\r\n        <div className=\"pt-1 w-full text-sm font-semibold text-red-500 tracking-wider\">\r\n          {error}\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nInput.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n  error: PropTypes.string.isRequired\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { motion } from 'framer-motion';\r\n\r\n\r\nconst DropdownSubItem = React.memo((props) => {\r\n  const { option, handleClick } = props;\r\n  const variants = {\r\n    opened: {\r\n      opacity: 1,\r\n      x: 0,\r\n      transition: { duration: 0.4, type: \"tween\" }\r\n    },\r\n    closed: { opacity: 0, x: \"-20%\" },\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"flex items-center cursor-pointer bg-white text-gray-600 transition duration-200 hover:bg-gray-600 hover:text-white\"\r\n    >\r\n      <motion.a\r\n        href={`${option.slug}`}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          handleClick(e, option);\r\n        }}\r\n        className=\"py-2 ml-6 text-md font-semibold w-full whitespace-no-wrap\"\r\n        variants={variants}\r\n        initial='closed'\r\n        animate='opened'\r\n      >\r\n        {option.name}\r\n      </motion.a>\r\n    </div>\r\n  );\r\n})\r\n\r\nDropdownSubItem.propTypes = {\r\n  option: PropTypes.object.isRequired,\r\n  handleClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default DropdownSubItem;\r\n","const baseUrl = 'http://34.107.91.112'\r\n\r\nexport const getCategoriesUrl = `${baseUrl}/api/categories`;\r\n\r\nexport const getSubcategoriesUrl = `${baseUrl}/api/subcategories`;\r\n\r\nexport const getItemsUrl = `${baseUrl}/api/items`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios, { CancelToken } from 'axios';\r\nimport { motion } from 'framer-motion';\r\nimport DropdownSubItem from './DropdownSubItem';\r\nimport { getSubcategoriesUrl } from '../constants';\r\n\r\n\r\nconst DropdownItem = React.memo((props) => {\r\n  const { option, handleClick } = props;\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [subItems, setSubItems] = useState([]);\r\n  const [Loading, setLoading] = useState(false);\r\n  const variants = {\r\n    rotateOpen: {\r\n      rotate: [0, 90],\r\n      transition: { duration: 0.4 }\r\n    },\r\n    rotateClose: {\r\n      rotate: [90, 0],\r\n      transition: { duration: 0.4 }\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = CancelToken.source();\r\n\r\n    const fetchSubcategories = async (category) => {\r\n      const url = `${getSubcategoriesUrl}/${category}`\r\n\r\n      try {\r\n        const response = await axios.get(\r\n          url,\r\n          { cancelToken: source.token }\r\n        );\r\n\r\n        setSubItems(response.data);\r\n        setLoading(false);\r\n\r\n      } catch(e) {\r\n        console.log(e);\r\n      }\r\n    };\r\n\r\n    if (isOpen && subItems.length === 0 && option.slug) {\r\n      setLoading(true);\r\n      fetchSubcategories(option.slug);\r\n    }\r\n\r\n    return () => {\r\n      source.cancel('Query was cancelled');\r\n      setLoading(false);\r\n    };\r\n\r\n  }, [isOpen, option, subItems])\r\n\r\n\r\n  return (\r\n    <div className=\"cursor-pointer bg-white text-gray-600 transition duration-200 hover:bg-gray-600 hover:text-white\">\r\n      <a\r\n        href={`${option.slug}`}\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          setIsOpen(!isOpen);\r\n        }}\r\n        className=\"block py-2 text-md font-semibold w-full whitespace-no-wrap\"\r\n      >\r\n        <motion.i\r\n          className=\"mx-4 my-2 fas fa-chevron-right\"\r\n          variants={variants}\r\n          animate={isOpen ? 'rotateOpen' : 'rotateClose'}\r\n        >\r\n        </motion.i>\r\n        {option.name}\r\n      </a>\r\n      <div\r\n        className={(isOpen ? \"block\" : \"hidden\")}\r\n      >\r\n        {Loading\r\n          ? (\r\n            <div className=\"p-2 bg-white text-gray-600 text-xl\">\r\n              <i className=\"fas fa-spinner animate-spin\"></i>\r\n            </div>)\r\n          : (subItems.map(item => (\r\n            <DropdownSubItem\r\n              key={item.slug}\r\n              option={item}\r\n              handleClick={handleClick}\r\n            />))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n\r\nDropdownItem.propTypes = {\r\n  option: PropTypes.object.isRequired,\r\n  handleClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default DropdownItem;\r\n","import { useEffect } from 'react';\r\n\r\n\r\nexport function useOnClickOutside(ref, handler) {\r\n  useEffect(() => {\r\n    const listener = event => {\r\n      if (!ref.current || ref.current.contains(event.target)) {\r\n        return;\r\n      }\r\n      handler(event);\r\n    };\r\n\r\n    document.addEventListener('mousedown', listener);\r\n    document.addEventListener('touchstart', listener);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', listener);\r\n      document.removeEventListener('touchstart', listener);\r\n    };\r\n  }, [ref, handler]);\r\n}\r\n\r\n\r\nexport function useValidateInput(input) {\r\n  const patternId = /^(.*)?(\\d{9,})\\/?$/;\r\n  const patternUrl = /^((https?):\\/\\/)?(www\\.)?ozon\\.ru(\\/.*)?$/;\r\n\r\n  function validateId(value) {\r\n    return patternId.test(value);\r\n  };\r\n\r\n  function validateUrl(value) {\r\n    return patternUrl.test(value);\r\n  };\r\n\r\n  function validateInput(input) {\r\n    let validationResult = {};\r\n    const itemId = 0;\r\n\r\n    if (!input) {\r\n      validationResult = {\r\n        inputIsValid: false,\r\n        validationMsg: \"Enter product's page URL or product's ID\",\r\n        itemId: itemId\r\n      }\r\n\r\n    } else if (validateId(input)) {\r\n      validationResult = {\r\n        inputIsValid: true,\r\n        validationMsg: \"\",\r\n        itemId: input.match(patternId)[2]\r\n      }\r\n\r\n    } else if (validateUrl(input)) {\r\n      const url = new URL(input);\r\n      const urlPath = url.pathname;\r\n      validationResult = (validateId(urlPath)\r\n        ? {\r\n            inputIsValid: true,\r\n            validationMsg: \"\",\r\n            itemId: urlPath.match(patternId)[2]\r\n          }\r\n        : {\r\n            inputIsValid: false,\r\n            validationMsg: \"URL should contain product's ID\",\r\n            itemId: itemId\r\n          }\r\n      );\r\n\r\n    } else {\r\n      validationResult = {\r\n        inputIsValid: false,\r\n        validationMsg: \"ID should consists of 9 or more digits\",\r\n        itemId: itemId\r\n      }\r\n    };\r\n\r\n    return validationResult;\r\n  };\r\n\r\n  return validateInput(input);\r\n}\r\n","import React, { useState, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DropdownItem from './DropdownItem';\r\nimport { useOnClickOutside } from '../customHooks';\r\n\r\n\r\nconst Dropdown = React.memo((props) => {\r\n  const { options, category, changeCategory } = props;\r\n  const [visible, setVisible] = useState(false);\r\n  const refDropdown = useRef(null);\r\n\r\n  useOnClickOutside(refDropdown, () => closeDropdownPopover());\r\n\r\n  const openDropdownPopover = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const closeDropdownPopover = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleSelect = (e, option) => {\r\n    changeCategory(option);\r\n    closeDropdownPopover();\r\n  };\r\n\r\n  return (\r\n    <div className=\"z-30\" ref={refDropdown}>\r\n      <button\r\n        className=\"w-full font-semibold uppercase text-left px-3 py-3 mr-1 rounded shadow hover:shadow-lg outline-none focus:outline-none bg-white text-gray-600\"\r\n        style={{ transition: \"all .15s ease\" }}\r\n        type=\"button\"\r\n        onClick={() => {\r\n          visible\r\n            ? closeDropdownPopover()\r\n            : openDropdownPopover();\r\n        }}\r\n      >\r\n        {!category.name ? 'Select...' : category.name}\r\n      </button>\r\n      <div\r\n        className={\r\n          (visible ? \"block \" : \"hidden \") +\r\n          \"absolute w-11/12 mt-2 text-base z-50 float-left list-none text-left rounded shadow-lg\"\r\n        }\r\n      >\r\n\r\n      {options.status === 'loading' && (\r\n        <div\r\n          className=\"py-2 px-4 text-md font-normal block w-full whitespace-no-wrap bg-white text-gray-600\"\r\n        >\r\n          Loading...\r\n        </div>\r\n      )}\r\n\r\n      {options.status === 'error' && (\r\n        <div\r\n          className=\"py-2 px-4 text-md font-normal block w-full whitespace-no-wrap bg-white text-gray-600\"\r\n        >\r\n          Error retreiving categories. Please try again later\r\n        </div>\r\n      )}\r\n\r\n      {options.status === 'success' && (\r\n        <div className=\"overflow-x-hidden overflow-y-visible h-56 z-30\">\r\n          {options.data.map(option => (\r\n            <DropdownItem\r\n              key={option.slug}\r\n              option={option}\r\n              handleClick={handleSelect}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n\r\nDropdown.propTypes = {\r\n  options: PropTypes.object.isRequired,\r\n  category: PropTypes.object.isRequired,\r\n  changeCategory: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Dropdown;\r\n","import React, { useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\nimport axios, { CancelToken } from 'axios';\r\nimport Input from './Input';\r\nimport Dropdown from './Dropdown';\r\nimport { ModalContext } from '../context';\r\nimport { useValidateInput } from '../customHooks';\r\nimport { getCategoriesUrl } from '../constants';\r\n\r\n\r\nasync function fetchCategories() {\r\n  const source = CancelToken.source()\r\n\r\n  const promise = await axios.get(getCategoriesUrl, {\r\n    cancelToken: source.token,\r\n  });\r\n\r\n  promise.cancel = () => {\r\n    source.cancel('Query was cancelled')\r\n  };\r\n\r\n  return promise.data;\r\n}\r\n\r\nexport default function Form() {\r\n  const { setModal } = useContext(ModalContext);\r\n  const [category, setCategory] = useState({});\r\n  const [inputUrl, setInputUrl] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [openTab, setOpenTab] = useState(1);\r\n  let history = useHistory();\r\n  const { data, status } = useQuery('categories', fetchCategories, {\r\n    staleTime: 6000,\r\n    cachedTime: 60000,\r\n    refetchOnWindowFocus: false,\r\n  });\r\n  const {\r\n    inputIsValid,\r\n    validationMsg,\r\n    itemId\r\n  } = useValidateInput(inputUrl);\r\n\r\n  function handleChangeInput(e) {\r\n    setInputUrl(e.target.value);\r\n    setError('');\r\n  };\r\n\r\n  function handleClick(e) {\r\n    e.preventDefault();\r\n\r\n    if (openTab === 1) {\r\n\r\n      if (inputIsValid) {\r\n        setModal(itemId);\r\n      } else {\r\n        setError(validationMsg);\r\n      };\r\n\r\n    } else if (openTab === 2) {\r\n      if ( category.name ) {\r\n        history.push(`/categories/${category.slug}`);\r\n      };\r\n      setCategory({});\r\n    };\r\n  };\r\n\r\n  return (\r\n      <div className=\"relative container mx-auto w-11/12 md:w-8/12 shadow-lg rounded-lg bg-gray-100 my-8\">\r\n        <div className=\"flex flex-wrap\">\r\n          <div className=\"w-full\">\r\n\r\n            {/* Tabs buttons Section */}\r\n            <ul className=\"flex list-none flex-wrap flex-row\" role=\"tablist\">\r\n              <li className=\"text-center flex-auto\">\r\n                <a\r\n                  className={\r\n                    \"font-semibold uppercase px-3 py-3 shadow transition duration-300 hover:shadow-lg rounded block leading-normal \" +\r\n                    (openTab === 1\r\n                    ? \"text-white bg-red-500\"\r\n                    : \"text-red-500 bg-white\")\r\n                  }\r\n                  onClick={e => {\r\n                    e.preventDefault();\r\n                    setOpenTab(1);\r\n                  }}\r\n                  data-toggle=\"tab\"\r\n                  href=\"search-by-url\"\r\n                  role=\"tablist\"\r\n                >\r\n                  Search by URL\r\n                </a>\r\n              </li>\r\n              <li className=\"text-center flex-auto\">\r\n                <a\r\n                  className={\r\n                    \"font-semibold uppercase px-3 py-3 shadow transition duration-300 hover:shadow-lg rounded block leading-normal \" +\r\n                    (openTab === 2\r\n                    ? \"text-white bg-red-500\"\r\n                    : \"text-red-500 bg-white\")\r\n                  }\r\n                  onClick={e => {\r\n                    e.preventDefault();\r\n                    setOpenTab(2);\r\n                  }}\r\n                  data-toggle=\"tab\"\r\n                  href=\"select-category\"\r\n                  role=\"tablist\"\r\n                >\r\n                  Select Category\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            {/* Tabs buttons Section End */}\r\n\r\n            {/* Input Section */}\r\n              <div className=\"px-4 py-4\">\r\n                <div className=\"tab-content tab-space\">\r\n                  <div className={openTab === 1 ? \"block\" : \"hidden\"} id=\"link1\">\r\n                    <Input\r\n                      value={inputUrl}\r\n                      handleChange={handleChangeInput}\r\n                      error={error}\r\n                    />\r\n                  </div>\r\n                  <div className={openTab === 2 ? \"block\" : \"hidden\"} id=\"link2\">\r\n                    <Dropdown\r\n                      options={{ data: data, status: status }}\r\n                      category={category}\r\n                      changeCategory={setCategory}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            {/* Input Section End */}\r\n\r\n            {/* Button Section */}\r\n            <div className=\"flex md:justify-center text-center\">\r\n              <button\r\n                className=\"block w-11/12 justify-center bg-red-500 text-white text-md font-semibold uppercase rounded w-full py-2 mx-2 mb-2 shadow focus:outline-none transition duration-300 hover:shadow-outline\"\r\n                onClick={handleClick}\r\n              >\r\n                Search\r\n              </button>\r\n            </div>\r\n            {/* Button Section End */}\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}","import React, { useState, useContext, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { usePaginatedQuery } from 'react-query';\r\nimport axios, { CancelToken } from 'axios';\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { ModalContext } from '../context';\r\nimport { getItemsUrl } from '../constants';\r\n\r\n\r\nasync function fetchItems(key, page, category) {\r\n  const source = CancelToken.source()\r\n\r\n  const promise = await axios.get(\r\n    `${getItemsUrl}?category=${category}&page=${page}`,\r\n    {\r\n      cancelToken: source.token,\r\n    }\r\n  );\r\n  promise.cancel = () => {\r\n    source.cancel('Query was cancelled')\r\n  };\r\n\r\n  return promise.data;\r\n}\r\n\r\nexport default function List() {\r\n  const { setModal } = useContext(ModalContext);\r\n  const [page, setPage] = useState(1);\r\n  const refRightButtonClicked = useRef(false);\r\n  const refLeftButtonClicked = useRef(false);\r\n  const { category } = useParams();\r\n  const {\r\n    resolvedData,\r\n    latestData,\r\n    status\r\n  } = usePaginatedQuery(['items', page, category], fetchItems, {\r\n    staleTime: 6000,\r\n    cachedTime: 60000,\r\n    refetchOnWindowFocus: false,\r\n  });\r\n\r\n  const variants = {\r\n    hiddenFromLeft: (i) => ({ x: -50 * i, opacity: 0 }),\r\n    hiddenFromRight: (i) => ({ x: 50 * i, opacity: 0 }),\r\n    visible: (i) => ({\r\n      x: 0,\r\n      opacity: 1,\r\n      transition: { delay: i * 0.025, duration: 0.3 }\r\n    }),\r\n    removedToRight: { x: 100, opacity: 0 },\r\n    removedToLeft: { x: -100, opacity: 0}\r\n  };\r\n\r\n  // function convertPrice(price) {\r\n  //   let priceString = price.toString();\r\n  //   const length = priceString.length;\r\n  //   if (length > 3) {\r\n  //     const index = length - 3\r\n  //     priceString = `${priceString.substring(0, index)} ${priceString.substring(index)}`\r\n  //   }\r\n  //   return `${priceString} P`\r\n  // };\r\n\r\n  function decreasePage() {\r\n    refRightButtonClicked.current = false;\r\n    refLeftButtonClicked.current = true;\r\n    setPage(old => Math.max(old - 1, 1));\r\n  };\r\n\r\n  function increasePage() {\r\n    refLeftButtonClicked.current = false;\r\n    refRightButtonClicked.current = true;\r\n    setPage(old => (!latestData || !latestData.next ? old : old + 1));\r\n  };\r\n\r\n  function hadndleClick(e, item) {\r\n    setModal(item.id);\r\n  };\r\n\r\n  if (status === 'loading') {\r\n    return (\r\n      <div className=\"text-4xl font-bold text-white text-center pt-16\">\r\n        Loading...\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (status === 'error') {\r\n    return (\r\n      <div className=\"text-4xl font-bold text-white text-center pt-16\">\r\n        Something went wrong... Please try again\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (status === 'success') {\r\n    return (\r\n      <div className=\"relative container mx-auto w-11/12 sm:w-8/12 sm:my-8\">\r\n        {resolvedData.results.length > 0 ? (\r\n        <>\r\n        <ul\r\n          className=\"flex justify-center flex-col font-bold leading-normal tracking-wider\"\r\n        >\r\n          <motion.li\r\n            className=\"hidden sm:flex justify-between uppercase font-title rounded-lg py-3 my-2 italic bg-red-500 text-gray-300 shadow-md\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n            >\r\n            <div className=\"w-9/12 ml-12 text-left\">\r\n              Product Name\r\n            </div>\r\n            {/*<div className=\"w-3/12 text-center\">\r\n              Last Price\r\n            </div>*/}\r\n          </motion.li>\r\n        <AnimatePresence exitBeforeEnter>\r\n          <motion.div>\r\n            {resolvedData.results.map((item, i) => (\r\n              <motion.div\r\n                key={item.id}\r\n                className=\"sm:flex rounded-lg shadow-md cursor-pointer py-3 my-2 bg-gradient-to-r from-red-500 to-indigo-700 text-gray-300 transition duration-300 hover:to-red-500 hover:text-gray-100 hover:shadow-lg\"\r\n                onClick={e => hadndleClick(e, item)}\r\n                variants={variants}\r\n                animate='visible'\r\n                initial={\r\n                  refRightButtonClicked.current\r\n                    ? 'hiddenFromLeft'\r\n                    : 'hiddenFromRight'\r\n                }\r\n                exit={\r\n                  refRightButtonClicked.current\r\n                    ? 'removedToLeft'\r\n                    : 'removedToRight'\r\n                }\r\n                custom={i}\r\n                whileHover={{ scale: 1.05 }}\r\n              >\r\n                <div className=\"w-9/12 text-left ml-2 sm:ml-8 truncate align-middle\">\r\n                  {item.name}\r\n                </div>\r\n                {/*<div className=\"w-6/12 sm:w-3/12 ml-2 sm:ml-8 sm:text-center\">\r\n                  {convertPrice(item.price)}\r\n                </div>*/}\r\n              </motion.div>\r\n            ))}\r\n          </motion.div>\r\n        </AnimatePresence>\r\n        </ul>\r\n\r\n        <div className=\"flex justify-end w-full pt-2 pr-2 text-gray-300\">\r\n          <motion.button\r\n            onClick={decreasePage}\r\n            className=\"mr-2 bg-red-500 rounded-full h-12 w-12 flex items-center justify-center shadow-md focus:outline-none transition duration-200 hover:shadow-lg\"\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.7 }}\r\n          >\r\n            <i className=\"fas fa-chevron-left\"></i>\r\n          </motion.button>\r\n          <motion.button\r\n            onClick={increasePage}\r\n            className=\"bg-red-500 rounded-full h-12 w-12 flex items-center justify-center shadow-md focus:outline-none transition duration-200 hover:shadow-lg\"\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.7 }}\r\n          >\r\n            <i className=\"fas fa-chevron-right\"></i>\r\n          </motion.button>\r\n\r\n        </div>\r\n        </>)\r\n        : (\r\n          <div className=\"text-4xl font-bold text-white text-center pt-16\">\r\n            No items in this category yet...\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n    );\r\n  };\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport Chart from \"chart.js\";\r\n\r\n\r\nexport default function LineChart(props) {\r\n  const chartRef = useRef(null);\r\n\r\n  function processItemPrices(prices) {\r\n    const labels = prices.map(price => price.date);\r\n    const values = prices.map(price => price.value);\r\n\r\n    return { 'labels': labels, 'values': values };\r\n  }\r\n\r\n  useEffect(() => {\r\n    const prices = processItemPrices(props.data);\r\n\r\n    const config = {\r\n      type: 'line',\r\n      data: {\r\n        labels: prices.labels,\r\n        datasets: [\r\n          {\r\n            label: 'Price',\r\n            backgroundColor: \"#4c51bf\",\r\n            borderColor: \"#4c51bf\",\r\n            data: prices.values,\r\n            fill: false\r\n          },\r\n        ]\r\n      },\r\n      options: {\r\n        legend: {\r\n          display: false,\r\n        },\r\n        tooltips: {\r\n          mode: \"index\",\r\n          intersect: false\r\n        },\r\n\r\n        hover: {\r\n          mode: \"nearest\",\r\n          intersect: true\r\n        },\r\n        scales: {\r\n          xAxes: [\r\n            {\r\n              ticks: {\r\n                fontColor: \"rgba(128,128,128,.7)\"\r\n              },\r\n              display: true,\r\n              gridLines: {\r\n                display: false,\r\n                borderDash: [2],\r\n                borderDashOffset: [2],\r\n                color: \"rgba(33, 37, 41, 0.3)\",\r\n                zeroLineColor: \"rgba(0, 0, 0, 0)\",\r\n                zeroLineBorderDash: [2],\r\n                zeroLineBorderDashOffset: [2]\r\n              }\r\n            }\r\n          ],\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                fontColor: \"rgba(128,128,128,.7)\"\r\n              },\r\n              display: true,\r\n              gridLines: {\r\n                display: true,\r\n                borderDash: [3],\r\n                borderDashOffset: [3],\r\n                drawBorder: false,\r\n                color: \"rgba(33, 37, 41, 0.3)\",\r\n                zeroLineColor: \"rgba(33, 37, 41, 0)\",\r\n                zeroLineBorderDash: [2],\r\n                zeroLineBorderDashOffset: [2]\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    };\r\n    \r\n    new Chart(chartRef.current, config);\r\n\r\n  }, [props.data]);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <canvas ref={chartRef} id=\"line-chart\"></canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\nLineChart.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.object)\r\n}\r\n","import React, { useContext, useRef } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport axios, { CancelToken } from 'axios';\r\nimport { motion } from 'framer-motion';\r\nimport LineChart from './LineChart';\r\nimport { ModalContext } from '../context';\r\nimport { useOnClickOutside } from '../customHooks';\r\nimport { getItemsUrl } from '../constants';\r\n\r\n\r\nasync function fetchItem(key, modal) {\r\n  const source = CancelToken.source()\r\n\r\n  const promise = await axios.get(`${getItemsUrl}/${modal}`, {\r\n    cancelToken: source.token,\r\n  });\r\n\r\n  promise.cancel = () => {\r\n    source.cancel('Query was cancelled')\r\n  };\r\n\r\n  return promise.data;\r\n}\r\n\r\nexport default function Modal() {\r\n  const { modal, setModal } = useContext(ModalContext);\r\n  const refModal = useRef(null);\r\n  const { data, status } = useQuery(['categories', modal],\r\n    fetchItem,\r\n    {\r\n      staleTime: 6000,\r\n      cachedTime: 60000,\r\n      refetchOnWindowFocus: false,\r\n    }\r\n  );\r\n\r\n  useOnClickOutside(refModal, () => setModal(null));\r\n\r\n  function getLastItemPrice(prices) {\r\n    const lastPrice = prices[prices.length - 1];\r\n    return `${lastPrice.value} P`;\r\n  };\r\n\r\n  if (status === 'error') {\r\n    return (\r\n      <div\r\n        className=\"z-50 fixed top-0 left-0 w-full h-full pt-16 bg-gray-700 bg-opacity-75\"\r\n      >\r\n        <div ref={refModal} className=\"relative container mx-auto flex  flex-col w-9/12 h-auto rounded-lg shadow-lg bg-gray-200 py-16\">\r\n          <div className=\"text-gray-700 font-semibold text-4xl text-center\">Something wrong here!\r\n          </div>\r\n          <div className=\"m-4 text-gray-700 font-semibold text-md text-center\">\r\n            Sorry, the item you were looking for could not be found...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"z-50 fixed top-0 left-0 w-full h-full pt-16 bg-gray-700 bg-opacity-75\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.7 }}\r\n    >\r\n      <div ref={refModal} className=\"relative container mx-auto flex  flex-col md:flex-row w-9/12 h-auto rounded-lg shadow-lg bg-gray-200 pt-4 md:pt-0\">\r\n\r\n        <div className=\"flex justify-center w-4/12 mx-auto my-auto\">\r\n          {status === 'loading' && (\r\n            <div className=\"h-40 md:h-64 w-32 md:w-48 shadow-lg rounded-lg border-none bg-gray-400 pb-4 animate-pulse\"\r\n            />\r\n          )}\r\n          {status === 'success' && (\r\n            <div className=\"bg-gray-100 text-black border-none shadow-lg rounded-lg\">\r\n              <img\r\n                alt=\"product\"\r\n                src={data.image_url}\r\n                className=\"min-wd-full border-none py-2 px-2\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex flex-col w-full md:w-8/12 rounded-lg px-2\">\r\n          {status === 'loading' && (\r\n            <div className=\"flex flex-col w-full w-full my-2 pr-4 animate-pulse\">\r\n              <div className=\"w-full h-16 bg-gray-400 ml-2 my-2\" />\r\n              <div className=\"w-8/12 h-12 bg-gray-400 ml-2 my-2\" />\r\n              <div className=\"w-full h-40 md:h-80 bg-gray-400 ml-2 my-2\" />\r\n            </div>\r\n          )}\r\n          {status === 'success' && (\r\n            <>\r\n              <div className=\"text-3xl font-semibold leading-none text-gray-700 pl-4 md:pl-2 py-4\">\r\n                {data.name}\r\n              </div>\r\n              <div className=\"text-lg uppercase font-bold tracking-wide text-red-600 pl-4 md:pl-2 py-2\">\r\n                Last Price: {getLastItemPrice(data.prices)}\r\n              </div>\r\n              <div className=\"pt-2 pb-2 md:pt-4\">\r\n                <LineChart data={data.prices} />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n      </div>\r\n    </motion.div>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function InfoTab(props) {\r\n  const { color, icon, title, msg } = props;\r\n  return (\r\n    <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-8 shadow-lg rounded-lg transition duration-300\">\r\n      <div className=\"px-4 py-5 flex-auto\">\r\n        <div \r\n          className={\r\n            \"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full \" + color\r\n          }\r\n        >\r\n          <i className={icon}></i>\r\n        </div>\r\n        <h6 className=\"text-xl font-semibold\">\r\n          {title}\r\n        </h6>\r\n        <p className=\"mt-2 mb-4 text-gray-600 italic\">\r\n          {msg}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nInfoTab.propTypes = {\r\n  color: PropTypes.string,\r\n  icon: PropTypes.string,\r\n  title: PropTypes.string,\r\n  msg: PropTypes.string,\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport Title from './components/Title';\r\nimport Form from './components/Form';\r\nimport List from './components/List';\r\nimport Modal from './components/Modal';\r\nimport InfoTab from './components/InfoTab';\r\nimport { ModalContext } from './context';\r\n\r\n\r\nexport default function App() {\r\n  const { modal } = useContext(ModalContext);\r\n\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <main>\r\n        <div className=\"relative pt-8 pb-32 bg-indigo-600 overflow-x-hidden\"\r\n            style={{\r\n              minHeight: \"84vh\"\r\n            }}>\r\n          <div className=\"container relative mx-auto\">\r\n            <a\r\n              href={process.env.PUBLIC_URL}\r\n              className=\"flex justify-center items-center flex-wrap overflow-hidden px-4 pb-10 m-auto\"\r\n            >\r\n              <div className=\"flex md:mr-8\">\r\n                <Title text={'Ozon'}/>\r\n              </div>\r\n              <div className=\"flex\">\r\n                <Title text={'Parser'}/>\r\n              </div>\r\n            </a>\r\n\r\n            {/* Switch section */}\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Form />\r\n                { modal && <Modal /> }\r\n              </Route>\r\n              <Route path=\"/categories/:category\">\r\n                <List />\r\n                { modal && <Modal /> }\r\n              </Route>\r\n              <Route path=\"*\">\r\n                <div className=\"text-gray-100 font-semibold text-4xl text-center\">This page does not exists!\r\n                </div>\r\n                <div className=\"text-gray-100 font-semibold text-md text-center\">\r\n                  Sorry, the page you were looking for could not be found...\r\n                </div>\r\n              </Route>\r\n            </Switch>\r\n            {/* Switch section End */}\r\n\r\n          </div>\r\n          <div\r\n            className=\"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden\"\r\n            style={{ height: \"70px\", transform: \"translateZ(0)\" }}\r\n          >\r\n            <svg\r\n              className=\"absolute bottom-0 overflow-hidden\"\r\n              preserveAspectRatio=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              version=\"1.1\"\r\n              viewBox=\"0 0 2560 100\"\r\n              x=\"0\"\r\n              y=\"0\"\r\n            >\r\n              <polygon\r\n                className=\"text-red-500 fill-current\"\r\n                points=\"2560 0 2560 100 0 100\"\r\n              ></polygon>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Infotabs section */}\r\n        <section className=\"pb-10 md:pb-20 bg-red-500 -mt-24\">\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"flex flex-wrap z-10\">\r\n              <motion.div\r\n                className=\"lg:pt-12 pt-6 w-full md:w-4/12 px-4 text-center\"\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                <InfoTab\r\n                  color=\"bg-red-400\"\r\n                  icon=\"fas fa-search\"\r\n                  title=\"Easy Search\"\r\n                  msg=\"Search products by site URL, ID or Category\"\r\n                />\r\n              </motion.div>\r\n              <motion.div\r\n                className=\"w-full md:w-4/12 px-4 text-center\"\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                <InfoTab\r\n                  color=\"bg-blue-400\"\r\n                  icon=\"fas fa-chart-line\"\r\n                  title=\"Price Charts\"\r\n                  msg=\"Price history over last several months\"\r\n                />\r\n              </motion.div>\r\n              <motion.div\r\n                className=\"md:pt-6 px-4 w-full md:w-4/12 text-center\"\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                <InfoTab\r\n                  color=\"bg-red-400\"\r\n                  icon=\"far fa-envelope-open\"\r\n                  title=\"Subscribe\"\r\n                  msg=\"Subscribe to receive notifications!\"\r\n                />\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        {/* Infotabs section End */}\r\n\r\n      </main>\r\n    </Router>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './tailwind.output.css';\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport { AppContextProvider } from './context';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppContextProvider>\r\n      <App />\r\n    </AppContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}